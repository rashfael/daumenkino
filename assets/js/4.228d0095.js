(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{263:function(e,t,i){},302:function(e,t,i){"use strict";var s=i(263);i.n(s).a},304:function(e,t,i){"use strict";i.r(t);i(269),i(134),i(131),i(73),i(132),i(280);var s=i(98),a=i.n(s),n=(i(133),i(281),i(285),i(41)),r=i(287),o=i.n(r),c=i(11),d=i(290),l=i.n(d),h={data:function(){return{theme:"white",startTime:o()(),currentTime:o()()}},computed:Object(n.a)({},Object(c.c)(["slides","activePath","overview","speakerMode"]),Object(c.b)(["activeSlide","nextPath","previousPath"]),{totalSlides:function(){return this.slides.reduce(function(e,t){return e+=t.nestedSlides.length||1},0)},progress:function(){var e=this,t=!1;return this.slides.reduce(function i(s,a){return t?s:a===e.activeSlide?(t=!0,s):s+(a.nestedSlides.length>0?a.nestedSlides.reduce(i,0):1)},0)},style:function(){var e;return{"--slides-total":this.totalSlides,"--slides-active":this.progress,"--active-slide-x":this.activePath[0]||0,"--active-slide-y":(null===(e=this.slides[this.activePath[0]])||void 0===e?void 0:e.nestedSlides[this.activePath[1]])?this.activePath[1]:0}},elapsedTime:function(){var e=Math.floor((this.currentTime-this.startTime)/1e3),t=Math.floor(e/60),i=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))}}),watch:{activePath:function(){this.sendState(),this.saveURL()}},mounted:function(){var e,t=this;!function e(i){i?t.$nextTick(function(){if(i.$children.some(function(e){return e._isSlide})){var s=a()(i.$el.children);t.$store.commit("setSlides",i.$children.filter(function(e){return e._isSlide}).sort(function(e,t){return s.indexOf(e.$el)-s.indexOf(t.$el)})),t.$nextTick(function(){t.loadURL()})}else t.$nextTick(function(){e(i.$children[0])})}):console.error("COULD NOT FIND SLIDES")}(this),document.addEventListener("keydown",this.globalKeyHandler),window.addEventListener("message",this.globalMessageHandler),null===(e=window.opener)||void 0===e||e.postMessage(["loaded"]),this._timerInterval=setInterval(function(){return t.currentTime=o()()},1e3)},beforeDestroy:function(){clearInterval(this._timerInterval),document.removeEventListener("keydown",this.globalKeyHandler)},methods:{next:function(){this.nextPath&&this.$store.commit("setActivePath",this.nextPath)},previous:function(){this.previousPath&&this.$store.commit("setActivePath",this.previousPath)},toggleSpeakerMode:function(){this.speakerMode||(this._speakerWindow=window.open(window.location.pathname,"Daumenkino Speaker Mode","height=900,width=1600"))},toggleOverview:function(){this.$store.commit("setOverview",!this.overview)},globalKeyHandler:function(e){switch(e.key){case" ":case"ArrowRight":e.preventDefault(),this.next();break;case"Backspace":case"ArrowLeft":e.preventDefault(),this.previous();break;case"s":e.preventDefault(),this.toggleSpeakerMode();break;case"Escape":e.preventDefault(),this.toggleOverview();break;case"Enter":e.preventDefault(),this.$store.commit("setOverview",!1)}},globalMessageHandler:function(e){switch(e.data[0]){case"loaded":this._speakerWindow.postMessage(["initSpeakerMode"]),this.sendState();break;case"initSpeakerMode":this.$store.commit("setSpeakerMode",!0);break;case"updateState":if(l()(this.activePath,e.data[1].activePath))return;this.$store.commit("setActivePath",e.data[1].activePath)}},sendState:function(){if(void 0!==window){var e=this._speakerWindow||this.speakerMode&&window.opener;e&&e.postMessage(["updateState",{activePath:this.activePath}])}},loadURL:function(){this.$store.commit("setActivePath",window.location.hash.substr(1).split("/").map(function(e){return Number(e)}))},saveURL:function(){window.location.hash=this.activePath.join("/")}}},u=(i(302),i(2)),v=Object(u.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"daumenkino",class:["daumenkino-theme-"+e.theme,{"speaker-mode":e.speakerMode,overview:e.overview}],style:e.style},[i("Content"),e._m(0),e.speakerMode?[i("div",{staticClass:"clock"},[e._v(e._s(e.elapsedTime))]),i("portal-target",{staticClass:"daumenkino-notes-portal-target",attrs:{name:"notes"}})]:e._e()],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress-bar-rail"},[t("div",{staticClass:"progress-bar"})])}],!1,null,null,null);t.default=v.exports}}]);